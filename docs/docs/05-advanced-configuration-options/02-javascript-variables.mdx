---
sidebar_position: 2
---

import JavaScriptVariablesExample from '@site/docs/_partials/05-advanced-configuration-options/02-javascript-variables/_javascript-variables.mdx';
import ReactiveVariablesExample from '@site/docs/_partials/05-advanced-configuration-options/02-javascript-variables/_reactive-variables.mdx';
import ReactiveVariablesWorkingExample from '@site/docs/_partials/05-advanced-configuration-options/02-javascript-variables/_reactive-variables-working.mdx';

# JavaScript Variables

`js_variables` is an object to declare variables intended to be used inside [JavaScript templates](../templates/javascript-templates). This object can store `string`,  `number`, and `boolean` variables as well as `dictionaries` (or `objects`) and `lists` (or `arrays`). These variables will be available in any [partial](partials) or in any [template](../templates/javascript-templates).

:::warning[Important]

1. `js_variables` only allows `string`, `number` and `boolean` variables as well as `dictionaries` and `lists` containing other `dictionaries` or `lists` or the aforementioned primitives. Trying to send other kinds of variables will end in an error.
2. `js_variables` don't compile any template string. So if you set a variable as a template string, it will be interpreted as a string and a warning will be thrown in the console.

:::

### Example

The next example will set "Title 80 dog" as the title of the page:

<JavaScriptVariablesExample />

## Reactive JavaScript Variables (Refs)

The variables placed inside `js_variables` are static because their value never change. On the other hand, variables placed inside `js_refs` (called `refs`) can change their value and they are also reactive. Refs will make your templates be reactive to changes locally, this means that the template will be re-rendered only in the device in which the `refs` were modified. As regular `JavaScript` variables, `refs` will be also available in any [partial](partials) or in any [template](../templates/javascript-templates).

:::warning[Important]

1. `js_refs` only allows `string`, `number` and `boolean` variables as well as `dictionaries` and `lists` containing other `dictionaries` or `lists` or the aforementioned primitives. Trying to send other kinds of variables will end in an error.
2. `js_refs` don't compile any template string. So if you set a variable as a template string, it will be interpreted as a string and a warning will be thrown in the console.

:::

To access a reactive variable you can use the `refs` object. Let's see how reactive variables work modifying the previous example to use them:

<ReactiveVariablesExample />

Until this point, there are no difference with the regular static variables. But the difference is that if we modify the value of these variables, the title template will be reevaluated using the new values. For example, let's modify the value of some of these variables when an item in the sidebar is clicked and let's check what will be the value of the `title` on each click.

<ReactiveVariablesWorkingExample />

### Value of the `title` after each click:

| Click on the Example item  | Title value            |
| -------------------------- | ---------------------- |
| Initial value              | `Title 80 dog`         |
| First click                | `Title 240 dog`        |
| Second click               | `Title 640 dog`        |
| Third click                | `Title 1600 dog`       |
| Fourth click               | `Title 3840 dog`       |
| ...                        | ...                    |

:::warning[Important]

1. To make the templates detect that a reactive variable has been mutated, one needs to assign a new value to the reactive variable. For example, changing the items of an array using `push` or `pop` will not make the remplates using that variable to be reevaluated. You need to assign a new array to the value of the reactive variable to make the change be detected.
2. To make the template aware that it contains a reactive variable, it should be accesed when the template is rendered. If the code accesing the ref variable is not executed when the template renders, then the reactive variable will not be tracked. That is why is recomendable to access reactive variables outside any condition and build the logic using the retrieved value. In this way the template will track that the reactive variable is being used and any time that the variable changes, the template will get re-evaluated.

:::